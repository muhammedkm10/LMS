{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M-Learning </title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f8ff;
        }
        .navbar {
            background-color: #4b0082;
        }
        .btn-primary {
            background-color: #4b0082;
            border-color: #4b0082;
        }
        .btn-primary:hover {
            background-color: #6a5acd;
            border-color: #6a5acd;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">M-Leaning</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto p-2">
                    <li class="nav-item"><a class="nav-link btn bg-danger ms-2 text-white"  data-bs-toggle="modal" data-bs-target="#logout">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="container my-5 p-5">
        <div class="row p-5">
            <div class="col-md-6">
                <img src="{% static 'images/homee-removebg-preview.png' %}" class="img-fluid rounded" alt="E-learning concept">
            </div>
            <div class="col-md-6 d-flex flex-column font-monospace align-items-center text-center">
                    <h4>Welcome to M-Learnig</h4>
                    <p> <strong>M-Learning</strong>  enables learners to access courses and quizzes via their mobile devices, offering flexibility and convenience. It features interactive content that enhances engagement and understanding. Each course is supplemented with quizzes to reinforce knowledge and track progress. This approach makes education accessible anytime, anywhere, catering to diverse learning styles.</p>
                    <div class="d-flex">
                    <a class="btn btn-info text-white mx-2" href="#course_section">Our Courses</a>
                    <a class="btn btn-success text-white" href="#attended">You Quizes</a>
                </div>

            </div>
        </div>
    </header>

    <main class="container my-5 p-5 mt-5  bg-white" id="course_section">
        <h2 class="text-center mb-4 font-monospace p-3 ">Our Featured Courses</h2>
        <div class="row">
            {% for course in courses_with_teachers%}

            <div class="col-md-4 mb-4">
                <div class="card h-100 text-center">
                    <img src={% static "images/course dummy.jpeg" %} class="card-img-top" alt="Web Development">
                    <div class="card-body">
                        <Strong class="card-title fs-5 py-3">{{course.name}}</Strong>
                        <h5 class="card-title  ">{{course.teacher.username}}</h5>

                        <p class="card-text pt-3">{{course.description}} </p>
                        <a href="{%url "show_quiz" course.id %}?question_index=0" class="btn btn-primary">Start Quiz</a>
                    </div>
                </div>
            </div>
            {% endfor %} 

            
        </div>
    </main>

    <main class="container my-5 p-5 mt-5  bg-white" id="attended">
        <h2 class="text-center mb-4 font-monospace p-3 ">Attended Quizes</h2>
        <div class="row">
            {% for sub in submissions%}

            <div class="col-md-4 mb-4">
                <div class="card h-100 text-center">
                    <div class="card-body">
                        <Strong class="card-title fs-5 py-3">{{sub.course.name}}</Strong>
                        <h5 class="card-title  ">{{sub.course.teacher.username}}</h5>
                        <p class="card-text pt-3">Date : {{sub.date}} </p>
                        <p class="card-text pt-3">Your Score : {{sub.score}} </p>
                    </div>
                </div>
            </div>
            {% endfor %} 

            
        </div>
    </main>

    <footer class="navbar text-white text-center py-3">
        <h6 class="text-center m-auto">&copy; 2024 LearnSmart. All rights reserved.</h6>
    </footer>

    <!-- Logout Modal -->
    <div class="modal fade" id="logout" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="logoutModalLabel">Confirm Logout</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Are you sure you want to logout?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <a  href="{% url "logout" %}" type="button" class="btn btn-danger" id="confirm-delete-btn">Logout</a>

                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>